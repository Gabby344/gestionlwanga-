<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Voir Bulletin Â· Institut Saint Charles Lwanga</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root {
      --bleu: #1e3a8a;
      --gris: #374151;
      --fond: #f9fafb;
      --ombre: rgba(0,0,0,0.05);
      --vert: #065f46;
      --orange: #f59e0b;
    }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--fond);
      margin: 0;
      padding: 2rem 1rem;
      color: var(--gris);
    }

    header {
      text-align: center;
      margin-bottom: 2rem;
    }

    header h1 {
      font-size: 1.8rem;
      color: var(--bleu);
      margin-bottom: 0.3rem;
    }

    header p {
      font-size: 1rem;
      color: #6b7280;
    }

    .login-container {
      max-width: 350px;
      margin: auto;
      background-color: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 4px 10px var(--ombre);
      margin-bottom: 2rem;
    }

    .login-container input, .login-container select, .login-container button {
      width: 100%;
      padding: 0.6rem;
      margin-bottom: 1rem;
      border-radius: 6px;
      border: 1px solid #d1d5db;
      font-size: 1rem;
    }

    .login-container button {
      background-color: var(--orange);
      color: white;
      border: none;
      cursor: pointer;
      font-weight: 600;
      transition: background-color 0.2s;
    }

    .login-container button:hover {
      background-color: #d97706;
    }

    .bulletin {
      max-width: 450px;
      margin: auto;
      background-color: white;
      padding: 1.5rem;
      border-radius: 10px;
      box-shadow: 0 4px 10px var(--ombre);
      display: none;
    }

    .matiere {
      display: flex;
      justify-content: space-between;
      padding: 0.5rem 0;
      border-bottom: 1px solid #e5e7eb;
    }

    .matiere:last-child { border-bottom: none; }

    .moyenne {
      text-align: center;
      font-weight: bold;
      margin-top: 1.5rem;
      font-size: 1.2rem;
      color: var(--vert);
    }

    footer {
      margin-top: 3rem;
      text-align: center;
      font-size: 0.85rem;
      color: #6b7280;
    }
  </style>
</head>
<body>

<header>
  <h1>ðŸ“„ Bulletin scolaire</h1>
  <p>Institut Saint Charles Lwanga Â· Lubumbashi</p>
</header>

<div class="login-container" id="loginContainer">
  <h3>ðŸ”’ AccÃ¨s au bulletin</h3>
  <select id="categorieSelect">
    <option value="">Choisir votre catÃ©gorie</option>
    <option value="eleve">Ã‰lÃ¨ve</option>
    <option value="parent">Parent</option>
    <option value="enseignant">Enseignant</option>
  </select>
  <input type="text" id="nomInput" placeholder="Nom de l'Ã©lÃ¨ve">
  <button onclick="verifierAcces()">Voir le bulletin</button>
  <p id="errorMsg" style="color:red; display:none; font-size:0.9rem;"></p>
</div>

<div class="bulletin" id="bulletinContainer">
  <header>
    <h3 id="eleveNom"></h3>
    <p id="eleveClasse"></p>
  </header>
  <div id="matieresList"></div>
  <div class="moyenne" id="moyenneContainer"></div>
</div>

<footer>
  &copy; 2025 Â· Institut Saint Charles Lwanga
</footer>

<script>
  const bulletins = {
    "Gabriel Umba": {
      classe: "6e A",
      trimestre: "1",
      matieres: [
        { matiere: "MathÃ©matiques", note: 15 },
        { matiere: "FranÃ§ais", note: 17 },
        { matiere: "Histoire", note: 14 },
        { matiere: "Sciences", note: 16 },
        { matiere: "Anglais", note: 13 }
      ]
    }
  };

  function verifierAcces() {
    const categorie = document.getElementById('categorieSelect').value;
    const nom = document.getElementById('nomInput').value.trim();
    const errorMsg = document.getElementById('errorMsg');
    const bulletinContainer = document.getElementById('bulletinContainer');

    if (!categorie) {
      errorMsg.textContent = "Veuillez sÃ©lectionner votre catÃ©gorie.";
      errorMsg.style.display = "block";
      return;
    }

    if (!nom) {
      errorMsg.textContent = "Veuillez entrer le nom de l'Ã©lÃ¨ve.";
      errorMsg.style.display = "block";
      return;
    }

    if (!bulletins[nom] || categorie !== "eleve") {
      errorMsg.textContent = "AccÃ¨s refusÃ© pour cette catÃ©gorie ou Ã©lÃ¨ve inconnu.";
      errorMsg.style.display = "block";
      bulletinContainer.style.display = "none";
      return;
    }

    // AccÃ¨s autorisÃ©
    errorMsg.style.display = "none";
    const data = bulletins[nom];
    document.getElementById('eleveNom').textContent = `Ã‰lÃ¨ve : ${nom}`;
    document.getElementById('eleveClasse').textContent = `Classe : ${data.classe} Â· Trimestre : ${data.trimestre}`;

    const matieresList = document.getElementById('matieresList');
    matieresList.innerHTML = '';
    let total = 0;
    data.matieres.forEach(item => {
      total += item.note;
      const ligne = document.createElement('div');
      ligne.className = 'matiere';
      ligne.innerHTML = `<span>${item.matiere}</span><span>${item.note}/20</span>`;
      matieresList.appendChild(ligne);
    });

    const moyenne = (total / data.matieres.length).toFixed(2);
    document.getElementById('moyenneContainer').textContent = `ðŸ“Œ Moyenne gÃ©nÃ©rale : ${moyenne}/20`;

    bulletinContainer.style.display = "block";
  }
</script>

</body>
</html>
